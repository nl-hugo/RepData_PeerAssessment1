---
title: "Reproducible Research: Peer Assessment 1"
author: "Hugo Janssen"
date: "6 Jun 2015"
output: 
  html_document:
    keep_md: true
---


```{r global_options, include=FALSE}
# Set global options
knitr::opts_chunk$set(fig.width=6, fig.height=4, fig.align="center",
                      echo=TRUE)
```


## Loading and preprocessing the data

The first step is to unzip and read the data.

```{r load}

# Unzip the data file to the data directory
unzip("activity.zip")

# Read the data files into a data frame
d <- read.csv(file="activity.csv", header=TRUE, sep=",")

# Convert dates from string to date
d$date <- as.Date(d$date)

# Print a summary of the data
summary(d)

```



## What is mean total number of steps taken per day?

A histogram shows the total number of steps per day: 

```{r plot_histogram}

# Aggregate the data
agg <- aggregate(x=d[c("steps")], by=list(Group.date=d$date), FUN=sum)

# Plot the histogram
hist(agg$steps, breaks=10, main="Distribution of the total number of steps per day", xlab="Steps per day")

```

The <b>mean</b> number of steps is `r sprintf("%.2f", mean(agg$steps, na.rm=TRUE))` and the <b>median</b> is `r median(agg$steps, na.rm=TRUE)`.



## What is the average daily activity pattern?

The line chart shows the average number of steps during the day:

```{r plot_average}

# Aggregate the data
agg2 <- aggregate(x=d[c("steps")], by=list(Group.interval=d$interval), FUN=mean, na.rm=TRUE)

# Format the interval as time format for nicer ticks
agg2$Group.interval <- strptime(formatC(agg2$Group.interval, width=4, flag="0"), "%H%M")

# Plot the time series
plot(agg2, type="l", main="Average number of steps during the day", xlab="Time of day", ylab="Average number of steps")
axis.POSIXct(1, agg2$Group.interval, format="%H:%M")

```
 
The <b>maximum</b> number of steps is measured at `r format(agg2[which.max(agg2$steps),1],"%H:%M:%S")`.



## Imputing missing values



## Are there differences in activity patterns between weekdays and weekends?
